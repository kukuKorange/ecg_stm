/**
  ******************************************************************************
  * @file    kconfig.h
  * @brief   项目全局配置文件
  * 
  * @details 此文件用于集中管理项目中的全局宏定义开关
  *          修改此文件后需要重新编译整个项目
  ******************************************************************************
  */

#ifndef __KCONFIG_H
#define __KCONFIG_H

/*============================================================================*/
/*                              调试配置                                       */
/*============================================================================*/

/**
 * @brief  启用调试页面
 * @note   启用后:
 *         - 新增第3页调试页面，显示循环时间、ADC值等信息
 *         - 页面以10Hz刷新
 *         - 会略微增加代码体积
 * 
 *         关闭: 注释此行
 */
#define ENABLE_DEBUG_PAGE

/**
 * @brief  启用串口调试输出
 * @note   启用后可通过printf输出调试信息到串口
 */
// #define ENABLE_UART_DEBUG

/**
 * @brief  启用LED状态指示
 * @note   启用后LED会根据系统状态闪烁
 */
#define ENABLE_LED_INDICATOR

/*============================================================================*/
/*                              功能配置                                       */
/*============================================================================*/

/**
 * @brief  启用心率检测功能
 */
#define ENABLE_HEARTRATE

/**
 * @brief  启用血氧检测功能
 */
#define ENABLE_SPO2

/**
 * @brief  启用心电图(ECG)功能
 */
#define ENABLE_ECG

/**
 * @brief  启用ESP8266 WiFi上传功能
 */
#define ENABLE_ESP8266_UPLOAD

/*============================================================================*/
/*                              参数配置                                       */
/*============================================================================*/

/**
 * @brief  心率检测缓存数量
 * @note   值越大检测越稳定，但响应越慢
 *         推荐范围: 100-200
 */
#define HR_CACHE_NUMS           150

/**
 * @brief  PPG信号检测阈值
 * @note   低于此阈值认为手指未放置
 */
#define PPG_DATA_THRESHOLD      100000

/**
 * @brief  心率报警阈值 (bpm)
 * @note   心率超过此值时LED2亮起
 */
#define HR_ALARM_THRESHOLD      70

/*============================================================================*/
/*                              硬件配置                                       */
/*============================================================================*/

/**
 * @brief  系统时钟频率 (Hz)
 */
#define SYSTEM_CLOCK_HZ         72000000

/**
 * @brief  TIM3计数器频率 (Hz)
 * @note   用于ECG采样和时间测量
 *         当前配置: 72MHz / 72 / 10 = 100kHz
 */
#define TIM3_COUNTER_FREQ       100000

/**
 * @brief  ECG采样频率 (Hz)
 * @note   TIM3_COUNTER_FREQ / 500 = 200Hz
 */
#define ECG_SAMPLE_FREQ         200

/**
 * @brief  调试页面刷新频率 (Hz)
 */
#define DEBUG_PAGE_REFRESH_FREQ 10

/*============================================================================*/
/*                              OLED配置                                       */
/*============================================================================*/

/**
 * @brief  OLED屏幕宽度 (像素)
 */
#define OLED_WIDTH              128

/**
 * @brief  OLED屏幕高度 (像素)
 */
#define OLED_HEIGHT             64

/*============================================================================*/
/*                              版本信息                                       */
/*============================================================================*/

/**
 * @brief  固件版本号
 */
#define FIRMWARE_VERSION        "1.3.0"

/**
 * @brief  编译日期（自动生成）
 */
#define BUILD_DATE              __DATE__

/**
 * @brief  编译时间（自动生成）
 */
#define BUILD_TIME              __TIME__

#endif /* __KCONFIG_H */

